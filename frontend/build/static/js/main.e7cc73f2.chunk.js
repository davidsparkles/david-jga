(this["webpackJsonpdavid-jga-frontend"]=this["webpackJsonpdavid-jga-frontend"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),i=n(24),s=n.n(i),a=(n(34),n(4)),o=n(12),l=n.n(o),u=(n(35),n(5)),d=n(6),j=n(3),b=n.n(j),h=n(7);function v(){return p.apply(this,arguments)}function p(){return(p=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/data");case 2:if(200!==(t=e.sent).status){e.next=5;break}return e.abrupt("return",t.json());case 5:throw console.error("Fetch error: ".concat(t.status," ").concat(t.statusText," ").concat(t.text())),new Error(t.statusText);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),s=Object(a.a)(i,2),o=s[0],l=s[1];return{loading:n,error:o,post:Object(c.useCallback)(function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,fetch("".concat("localhost"===window.location.hostname?"http://localhost:3000":"","/api/quest"),{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(e.t0);case 9:return e.prev=9,r(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(t){return e.apply(this,arguments)}}(),[l,r])}}var O=n(25),x=(n(37),n(1));function m(e){var t,n,r,i,s=e.quest,o=e.onBack,l=e.permission,d=Object(c.useState)({title:"",description:"",maxXp:0,minLevel:0,xp:null,disabled:!1,archived:!1}),j=Object(a.a)(d,2),v=j[0],p=j[1],m=f(),g=m.loading,k=m.error,N=m.post;Object(c.useEffect)((function(){var e,t,n,c;null!=s&&p({title:null!==(e=s.title)&&void 0!==e?e:"",description:null!==(t=s.description)&&void 0!==t?t:"",maxXp:s.maxXp,minLevel:s.minLevel,xp:s.xp,disabled:null!==(n=s.disabled)&&void 0!==n&&n,archived:null!==(c=s.archived)&&void 0!==c&&c})}),[s]);var C=Object(c.useCallback)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(u.a)({id:s.id},v));case 2:o();case 3:case"end":return e.stop()}}),e)}))),[o,N,s,v]),S=Object(c.useCallback)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({delete:!0,id:s.id});case 2:o();case 3:case"end":return e.stop()}}),e)}))),[o,N,s]);return Object(x.jsxs)("div",{className:"questDetails",children:[Object(x.jsxs)("div",{className:"backArrowContainer",children:[Object(x.jsx)(O.a,{className:"backArrow",onClick:function(){return o()}}),Object(x.jsx)("div",{className:"value",children:"edit"===l?Object(x.jsx)("input",{value:v.title,onChange:function(e){return p(Object(u.a)(Object(u.a)({},v),{},{title:e.target.value}))}}):null!==(t=s.title)&&void 0!==t?t:"-"})]}),Object(x.jsx)("div",{className:"label",children:"Beschreibung"}),Object(x.jsx)("div",{className:"value",children:"edit"===l?Object(x.jsx)("textarea",{rows:10,value:v.description,onChange:function(e){return p(Object(u.a)(Object(u.a)({},v),{},{description:e.target.value}))}}):null!==(n=s.description)&&void 0!==n?n:"-"}),Object(x.jsx)("div",{className:"label",children:"Mindestens Level"}),Object(x.jsx)("div",{className:"value",children:"edit"===l?Object(x.jsx)("input",{type:"number",value:v.minLevel,onChange:function(e){return p(Object(u.a)(Object(u.a)({},v),{},{minLevel:parseInt(e.target.value,10)}))}}):s.minLevel}),Object(x.jsx)("div",{className:"label",children:"Maximale XP"}),Object(x.jsx)("div",{className:"value",children:"edit"===l?Object(x.jsx)("input",{type:"number",value:v.maxXp,onChange:function(e){return p(Object(u.a)(Object(u.a)({},v),{},{maxXp:parseInt(e.target.value,10)}))}}):s.maxXp}),Object(x.jsx)("div",{className:"label",children:"Erreichte XP"}),Object(x.jsx)("div",{className:"value",children:"edit"===l?Object(x.jsx)("input",{type:"number",value:null!==(r=v.xp)&&void 0!==r?r:"-",onChange:function(e){var t=parseInt(e.target.value,10);p(Object(u.a)(Object(u.a)({},v),{},{xp:t<0?null:t}))}}):"closed"!==s.state?"-":s.xp}),"edit"===l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"label",children:"Versteckt"}),Object(x.jsx)("div",{className:"value",children:Object(x.jsx)("input",{type:"checkbox",checked:v.disabled,onChange:function(e){return p(Object(u.a)(Object(u.a)({},v),{},{disabled:e.target.checked}))}})}),Object(x.jsx)("div",{className:"label",children:"Archiviert"}),Object(x.jsx)("div",{className:"value",children:Object(x.jsx)("input",{type:"checkbox",checked:v.archived,onChange:function(e){return p(Object(u.a)(Object(u.a)({},v),{},{archived:e.target.checked}))}})}),Object(x.jsxs)("div",{className:"buttonContainer",children:[Object(x.jsx)("div",{className:"saveContainer",children:Object(x.jsx)("button",{onClick:C,children:"Speichern"})}),s.archived&&Object(x.jsx)("div",{className:"deleteContainer",children:Object(x.jsx)("button",{onClick:S,children:"Quest l\xf6schen"})}),null!==g&&void 0!==g?g:Object(x.jsx)(x.Fragment,{children:"loading..."}),k&&Object(x.jsx)(x.Fragment,{children:JSON.stringify(k)})]}),Object(x.jsx)("h4",{children:"Versionen"}),Object(x.jsx)("div",{className:"versionList",children:null===(i=s.versions)||void 0===i?void 0:i.map((function(e){var t=e.id,n=e.created_at,c=e.fields;return Object(x.jsxs)("div",{className:"versionItem",children:["Version ",t," vom ",new Intl.DateTimeFormat("de").format(new Date(n))," ",n.substring(11,19)," ",Object(x.jsx)("button",{onClick:function(){return p(Object(u.a)(Object(u.a)(Object(u.a)({},v),c),{},{maxXp:c.max_xp,minLevel:c.min_level}))},children:"\ud83d\udd03"})]})}))})]})]})}n(39);function g(e){var t=Object(c.useState)(null==l.a.get("filterList")||"true"===l.a.get("filterList")),n=Object(a.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(null!=l.a.get("filterArchivedList")&&"true"===l.a.get("filterArchivedList")),o=Object(a.a)(s,2),u=o[0],d=o[1],j=Object(c.useState)(null),v=Object(a.a)(j,2),p=v[0],O=v[1],g=f(),N=g.loading,C=g.error,S=g.post;return null!=p?Object(x.jsx)(m,{quest:p,onBack:function(){O(null),e.refetch()},permission:e.permission}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"questList",children:[Object(x.jsxs)("div",{className:"questFilter",children:[Object(x.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){i(e.target.checked),l.a.set("filterList","".concat(e.target.checked))}}),"Erledigte Quests"]}),"edit"===e.permission&&Object(x.jsxs)("div",{className:"questFilter",children:[Object(x.jsx)("input",{type:"checkbox",checked:u,onChange:function(e){d(e.target.checked),l.a.set("filterArchivedList","".concat(e.target.checked))}}),"Archivierte Quests"]}),e.quests.filter((function(e){var t=e.state;return!0===r||"closed"!==t})).filter((function(e){var t=e.archived;return!0===u||!1===t})).filter((function(t){var n=t.archived,c=t.disabled;return!1===n&&!1===c||"edit"===e.permission})).map((function(t,n){var c;return Object(x.jsxs)("div",{className:"questBox ".concat(t.state," ").concat(t.disabled?"disabled":""," ").concat(t.archived?"archived":""),onClick:function(){return!("none"===e.permission&&"hidden"===t.state)&&O(t)},children:[Object(x.jsxs)("div",{className:"questHeader",children:[Object(x.jsx)("div",{className:"questTitle",children:"none"===e.permission&&"hidden"===t.state||null==t.title?"\ud83d\udd12 ???":"".concat("hidden"===t.state?"\ud83d\udd12 ":"").concat(t.title)}),Object(x.jsxs)("div",{className:"questPoints",children:["closed"!==t.state?t.maxXp:"".concat(t.xp," / ").concat(t.maxXp)," XP"]})]}),!("none"===e.permission&&"hidden"===t.state)&&Object(x.jsx)("div",{className:"questDescription",children:k(null!==(c=t.description)&&void 0!==c?c:"???")}),"hidden"===t.state&&Object(x.jsxs)("div",{className:"questDescription",children:["Ab Level ",t.minLevel]})]},n)}))]}),"edit"===e.permission&&Object(x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto auto auto"},children:[Object(x.jsx)("div",{className:"createQuestContainer",children:Object(x.jsx)("button",{onClick:Object(h.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S({title:"Neue Quest",description:"",maxXp:1,disabled:!0,minLevel:20,archived:!1});case 2:e.refetch();case 3:case"end":return t.stop()}}),t)}))),children:"Neue Quest"})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){"Notification"in window?"granted"===Notification.permission?setTimeout((function(){return new Notification("Unlocked next level 2!")}),3e3):"denied"!==Notification.permission&&Notification.requestPermission().then((function(e){"granted"===e&&setTimeout((function(){return new Notification("Unlocked next level 2!")}),3e3)})):alert("This browser does not support desktop notification")},children:"Notify me in 3 secs!"})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){l.a.remove("token")},children:"Log Out!"})})]}),N&&"loading ...",C&&Object(x.jsxs)(x.Fragment,{children:["Fehler: ",JSON.stringify(C)]})]})}function k(e){return null==e?"???":e.length<100?e:e.substring(0,96)+" ..."}n(40);function N(e){var t,n,c,r,i,s,a,o,l,u;return Object(x.jsxs)("div",{className:"gameHeader",children:[Object(x.jsx)("div",{className:"gameHeaderTitle",children:"Quest Master"}),Object(x.jsxs)("div",{className:"gameHeaderLevel",children:["Level ",null!==(t=null===(n=e.data)||void 0===n?void 0:n.currentLevel)&&void 0!==t?t:1," / ",null!==(c=null===(r=e.data)||void 0===r?void 0:r.maxLevel)&&void 0!==c?c:"?"]}),Object(x.jsx)(C,{current:null!==(i=null===(s=e.data)||void 0===s?void 0:s.xpWithinCurrentLevel)&&void 0!==i?i:0,max:(null!==(a=null===(o=e.data)||void 0===o?void 0:o.xpToNextLevel)&&void 0!==a?a:0)+(null!==(l=null===(u=e.data)||void 0===u?void 0:u.xpWithinCurrentLevel)&&void 0!==l?l:1)})]})}function C(e){var t=100*e.current/e.max;return Object(x.jsxs)("div",{className:"gameProgressContainer",children:[Object(x.jsx)("div",{className:"gameProgressBar",children:Object(x.jsx)("div",{style:{width:"".concat(t,"%")},className:"gameProgressCurrent",children:Object(x.jsx)("div",{className:"gameProgressCurrentText",children:e.current})})}),e.max,"\u2191"]})}var S=n(13),w=n(22),y=n(27),L=n(28);n(41);function P(e){return Object(x.jsxs)("div",{className:"gameFooter",style:"edit"===e.permission?{gridTemplateColumns:"auto auto auto auto"}:void 0,children:[Object(x.jsx)(S.b,{to:{pathname:"/quests",search:e.location.search},children:Object(x.jsx)(y.a,{})}),Object(x.jsx)(S.b,{to:{pathname:"/rewards",search:e.location.search},children:Object(x.jsx)(w.b,{})}),"edit"===e.permission&&Object(x.jsx)(S.b,{to:{pathname:"/levels",search:e.location.search},children:Object(x.jsx)(L.a,{})}),Object(x.jsx)(S.b,{to:{pathname:"/settings",search:e.location.search},children:Object(x.jsx)(w.a,{})})]})}var T={post:function(e,t){return fetch(e,{credentials:"omit",headers:{"content-type":"application/json;charset=UTF-8","sec-fetch-mode":"cors"},body:JSON.stringify(t),method:"POST",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return e}))},get:function(e){return fetch(e,{credentials:"omit",headers:{"content-type":"application/json;charset=UTF-8","sec-fetch-mode":"cors"},method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return e}))}},F="BDTxsv_QJLLjMkKfKrZw9kLADmciH2_E1B4Smkp9kbOLHWlrNs_3jFZA3zCyYbw9GRKq5hoEhkcHiBMf8OiGKDQ";function q(){return(q=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready;case 2:return t=e.sent,e.next=5,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:F});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X="serviceWorker"in navigator&&"PushManager"in window;function A(){var e=Object(c.useState)(Notification.permission),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),s=Object(a.a)(i,2),o=s[0],l=s[1],u=Object(c.useState)(),d=Object(a.a)(u,2),j=d[0],v=d[1],p=Object(c.useState)(null),f=Object(a.a)(p,2),O=f[0],x=f[1],m=Object(c.useState)(!0),g=Object(a.a)(m,2),k=g[0],N=g[1];return Object(c.useEffect)((function(){X&&(N(!0),x(!1),navigator.serviceWorker.register("/sw.js").then((function(){N(!1)})))}),[]),Object(c.useEffect)((function(){N(!0),x(!1),function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()})).then((function(e){return e}));case 2:t=e.sent,l(t),N(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),{onClickAskUserPermission:Object(c.useCallback)((function(){return N(!0),x(!1),function(){return q.apply(this,arguments)}().then((function(e){r(e),"granted"!==e&&x({name:"Consent denied",message:"You denied the consent to receive notifications",code:0}),N(!1)}))}),[N,x,r]),onClickSusbribeToPushNotification:Object(c.useCallback)((function(){return N(!0),x(!1),function(){return E.apply(this,arguments)}().then((function(e){l(e),N(!1)})).catch((function(e){console.error("Couldn't create the notification subscription",e,"name:",e.name,"message:",e.message,"code:",e.code),x(e),N(!1)}))}),[N,x,l]),onClickSendSubscriptionToPushServer:Object(c.useCallback)((function(){null!=o&&"granted"===n?(N(!0),x(!1),T.post("/api/subscription",o).then((function(e){v(e.id),N(!1)})).catch((function(e){N(!1),x(e)}))):console.log("No userSubscription present or consent not given")}),[o,n,N,x,v]),pushServerSubscriptionId:j,onClickSendNotification:Object(c.useCallback)(Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),x(!1),e.next=4,T.get("/api/subscription").catch((function(e){N(!1),x(e)}));case 4:N(!1);case 5:case"end":return e.stop()}}),e)}))),[N,x]),userConsent:n,pushNotificationSupported:X,userSubscription:o,error:O,loading:k}}var B=n(29);n(47);function M(e){var t=Object(c.useState)([]),n=Object(a.a)(t,2),r=n[0],i=n[1];Object(c.useEffect)((function(){i(e.levels.sort((function(e,t){return e.id-t.id})).map((function(e){return e.requiredXp})))}),[e.levels]);var s=Object(c.useCallback)((function(e){e<0||e>=r.length||i(r.filter((function(t,n){return n!==e})))}),[r,i]),o=Object(c.useCallback)((function(e,t){if(!(e<0||e>=r.length||t<0)){var n=r[e-1];if(!(null!=n&&n>=t)){var c=t-r[e];i(r.map((function(t,n){return e<=n?t+c:t})))}}}),[r,i]),l=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),s=Object(a.a)(i,2),o=s[0],l=s[1];return{loading:n,error:o,post:Object(c.useCallback)(function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,fetch("".concat("localhost"===window.location.hostname?"http://localhost:3000":"","/api/levels"),{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(e.t0);case 9:return e.prev=9,r(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(t){return e.apply(this,arguments)}}(),[l,r])}}(),u=l.loading,d=l.error,j=l.post;return Object(x.jsxs)("div",{className:"levels",children:[Object(x.jsx)("b",{children:"Levels"}),r.map((function(e,t){return Object(x.jsxs)("div",{className:"levelsContainer",children:[Object(x.jsx)("div",{className:"levelIndex",children:t+1}),Object(x.jsx)("div",{className:"levelXp",children:Object(x.jsx)("input",{type:"number",value:e,onChange:function(e){return o(t,parseInt(e.target.value,10))}})}),Object(x.jsx)("div",{className:"levelDelete",children:Object(x.jsx)("button",{onClick:function(){return s(t)},children:"L\xf6schen"})})]})})),Object(x.jsx)("button",{className:"levelAdd",onClick:function(){return i([].concat(Object(B.a)(r),[r[r.length-1]+1]))},children:"Neues Level"}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"levelsSave",onClick:function(){return j(r.map((function(e,t){return{id:t+1,requiredXp:e}})))},children:"Speichern"}),u&&Object(x.jsx)(x.Fragment,{children:"loading..."}),d&&Object(x.jsxs)(x.Fragment,{children:["Error: ",JSON.stringify(d)]})]})}function D(e){return Object(x.jsx)(x.Fragment,{children:"Belohnungen: todo"})}function I(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Einstellungen"}),Object(x.jsx)("input",{type:"checkbox",checked:"granted"===e.userConsent,onChange:Object(h.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onClickAskUserPermission();case 2:return t.next=4,e.onClickSusbribeToPushNotification();case 4:case"end":return t.stop()}}),t)})))}),"Push-Benachrichtigungen",Object(x.jsx)(J,{loading:e.loading}),Object(x.jsx)(U,{error:e.error}),"edit"===e.permission&&Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:e.onClickSendNotification,children:"Send a notification"})})]})}var J=function(e){return e.loading?Object(x.jsx)("span",{children:"Laden ..."}):null},U=function(e){var t=e.error;return t?Object(x.jsxs)("section",{className:"app-error",children:[Object(x.jsx)("h2",{children:t.name}),Object(x.jsxs)("p",{children:["Error message : ",t.message]}),Object(x.jsxs)("p",{children:["Error code : ",t.code]})]}):null};n(48);function Q(e){var t=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(void 0),s=Object(a.a)(i,2),o=s[0],l=s[1],u=Object(c.useState)(void 0),d=Object(a.a)(u,2),j=d[0],p=d[1],f=Object(c.useCallback)((function(){Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.t0=l,e.next=5,v();case 5:e.t1=e.sent,(0,e.t0)(e.t1),p(void 0),e.next=15;break;case 10:e.prev=10,e.t2=e.catch(0),console.log(e.t2),l(void 0),p("Upps ein Fehler ist aufgetreten.");case 15:return e.prev=15,r(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,10,15,18]])})))()}),[]);return Object(c.useEffect)(f,[f]),{data:o,error:j,loading:n,refetch:f}}(),n=t.data,r=t.error,i=t.loading,s=t.refetch,o=A(),l=o.userConsent,j=o.userSubscription,p=o.onClickAskUserPermission,f=o.onClickSusbribeToPushNotification,O=o.onClickSendSubscriptionToPushServer,m=o.onClickSendNotification,k=o.loading,C=o.error;return Object(c.useEffect)((function(){console.log("update push subscription"),"granted"===l&&null!=j&&O()}),[l,j,O]),Object(x.jsxs)("div",{className:"game",children:[Object(x.jsx)(N,{data:n}),Object(x.jsxs)("div",{className:"gameMain",children:[i&&Object(x.jsx)(x.Fragment,{children:"Laden ..."}),r&&Object(x.jsx)(x.Fragment,{children:"string"===typeof r?r:JSON.stringify(r)}),n&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{path:"/levels",exact:!0,children:Object(x.jsx)(M,{levels:n.levels})}),Object(x.jsx)(d.b,{path:"/quests",children:Object(x.jsx)(g,{quests:n.quests,permission:e.permission,refetch:s})}),Object(x.jsx)(d.b,{path:"/rewards",children:Object(x.jsx)(D,{permission:e.permission,refetch:s})}),Object(x.jsx)(d.b,{path:"/settings",children:Object(x.jsx)(I,{permission:e.permission,userConsent:l,onClickAskUserPermission:p,onClickSusbribeToPushNotification:f,onClickSendNotification:m,loading:k,error:C})})]})})]}),Object(x.jsx)(d.b,{path:"/",component:function(t){return Object(x.jsx)(P,Object(u.a)(Object(u.a)({},t),{},{permission:e.permission}))}})]})}function H(){var e=Object(c.useState)(function(){var e,t=new URLSearchParams(window.location.search),n=null!==(e=t.get("token"))&&void 0!==e?e:l.a.get("token");null!=n&&l.a.set("token",n,{sameSite:"lax",expires:30});return"fitti"===n?"view":"broiler"===n?"edit":"none"}()),t=Object(a.a)(e,1)[0];return Object(x.jsx)("div",{className:"app",onTouchMove:function(e){return console.log(e)},children:Object(x.jsx)(Q,{permission:t})})}var W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),i(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsxs)(S.a,{children:[Object(x.jsx)(d.b,{path:"/",exact:!0,component:function(){return Object(x.jsx)(d.a,{to:"/quests"})}}),Object(x.jsx)(H,{})]})}),document.getElementById("root")),W()}},[[49,1,2]]]);
//# sourceMappingURL=main.e7cc73f2.chunk.js.map